{% extends 'includes/base.html' %}
{% load static %}
{% load extras %}
{% block Title %}
<title>Ana Sayfa</title>
{% endblock Title %}
{% block CSS %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="{% static 'css/productsCSS.css' %}">
{% endblock CSS %}
{% block BODY %}
{% include 'includes/navbar.html' %}
{% if messages %}
{% for message in messages %}
<div{% if message.tags %} class="alert alert-{{ message.tags }} m-3 p-3 rounded"{% endif %}><i
   class="fa fa-check" aria-hidden="true"></i> {{ message }}</div>
{% endfor %}
{% endif %}
<div class="container" style="margin-top: 30px">
   <div class="row">
      {% for product in products %}
      <!-- Ürün Başlangıcı -->
      <div class="col-lg-4" style="margin-bottom: 20px">
         <img class="thumbnail" style="border-top-left-radius: 10px;border-top-right-radius: 10px"
            src="{{ product.productImage.url }}">
         <div class="box-element">
            <h6><strong>{{ product.productTitle }}</strong></h6>
            {% if product.productShipping == 0 %}
            <h6 class="text-danger">Kargoyu Alıcı Öder</h6>
            {% else %}
            <h6 class="text-success">Ücretsiz Kargo</h6>
            {% endif %}
            <hr>
            {% for value in product.productCategorie.values %}
            {% for value_,key in value.items %}
            {% if key|is_numeric %}
            {% else %}
            <span class="badge badge-secondary">{{ key }}</span>
            {% endif %}
            {% endfor %}
            {% endfor %}
            <span class="badge badge-secondary"></span>
            <span style="display: block"
               class="text-secondary">{{ product.productDescription|truncatechars:120 }}</span><br>

            <button class="btn btn-outline-success update-cart" data-product="{{ product.id }}" data-action="add" style="width: 32%"><i class="fa fa-cart-plus" aria-hidden="true"></i> Sepete Ekle</button>

            <button class="btn btn-primary" style="width: 30%"><a href="#" style="text-decoration: none;color: white"><i class="fa fa-list-alt" aria-hidden="true"></i> Detaylar</a></button>
            <button class="btn btn-info" style="display: inline-block;float: right;width: 25%;">
            <strong>₺ {{ product.productPrice }}</strong></button>
            <button class="btn btn-outline-danger" style="width: 10%"><i class="fa fa-heart"
               aria-hidden="true"></i></button>
         </div>
      </div>
      <!-- Ürün Bitişi -->
      {% endfor %}
   </div>
</div>
</div>
{% endblock BODY %}